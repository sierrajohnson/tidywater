<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulate contributions of various lead solids to total soluble lead — dissolve_pb • tidywater</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate contributions of various lead solids to total soluble lead — dissolve_pb"><meta name="description" content='This function takes a water data frame defined by define_water
and outputs a dataframe of the controlling lead solid and total lead solubility.
Lead solid solubility is calculated based on controlling solid.
Total dissolved lead species (tot_dissolved_pb, M) are calculated based on lead complex calculations.
For a single water, use dissolve_pb; to apply the model to a dataframe, use dissolve_pb_df.
For most arguments, the _df
"use_col" default looks for a column of the same name in the dataframe. The argument can be specified directly in the
function instead or an unquoted column name can be provided.'><meta property="og:description" content='This function takes a water data frame defined by define_water
and outputs a dataframe of the controlling lead solid and total lead solubility.
Lead solid solubility is calculated based on controlling solid.
Total dissolved lead species (tot_dissolved_pb, M) are calculated based on lead complex calculations.
For a single water, use dissolve_pb; to apply the model to a dataframe, use dissolve_pb_df.
For most arguments, the _df
"use_col" default looks for a column of the same name in the dataframe. The argument can be specified directly in the
function instead or an unquoted column name can be provided.'><meta property="og:image" content="https://BrownandCaldwell-Public.github.io/tidywater/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidywater</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/tidywater.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/coeff_fitting_chemdose_dbp.html">Fitting and using custom coefficients in chemdose_dbp</a></li>
    <li><a class="dropdown-item" href="../articles/help_functions_blend_waters.html">Blending Multiple Waters</a></li>
    <li><a class="dropdown-item" href="../articles/help_functions_chemdose_ph.html">Helper Functions &amp; Dose Chemicals</a></li>
    <li><a class="dropdown-item" href="../articles/intro.html">Introduction to tidywater: Basic functions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BrownandCaldwell-Public/tidywater/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Simulate contributions of various lead solids to total soluble lead</h1>
      <small class="dont-index">Source: <a href="https://github.com/BrownandCaldwell-Public/tidywater/blob/main/R/dissolve_pb.R" class="external-link"><code>R/dissolve_pb.R</code></a></small>
      <div class="d-none name"><code>dissolve_pb.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes a water data frame defined by <a href="define_water.html">define_water</a>
and outputs a dataframe of the controlling lead solid and total lead solubility.
Lead solid solubility is calculated based on controlling solid.
Total dissolved lead species (tot_dissolved_pb, M) are calculated based on lead complex calculations.
For a single water, use <code>dissolve_pb</code>; to apply the model to a dataframe, use <code>dissolve_pb_df</code>.
For most arguments, the <code>_df</code>
"use_col" default looks for a column of the same name in the dataframe. The argument can be specified directly in the
function instead or an unquoted column name can be provided.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dissolve_pb</span><span class="op">(</span></span>
<span>  <span class="va">water</span>,</span>
<span>  hydroxypyromorphite <span class="op">=</span> <span class="st">"Schock"</span>,</span>
<span>  pyromorphite <span class="op">=</span> <span class="st">"Topolska"</span>,</span>
<span>  laurionite <span class="op">=</span> <span class="st">"Nasanen"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dissolve_pb_df</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  input_water <span class="op">=</span> <span class="st">"defined"</span>,</span>
<span>  output_col_solid <span class="op">=</span> <span class="st">"controlling_solid"</span>,</span>
<span>  output_col_result <span class="op">=</span> <span class="st">"pb"</span>,</span>
<span>  hydroxypyromorphite <span class="op">=</span> <span class="st">"Schock"</span>,</span>
<span>  pyromorphite <span class="op">=</span> <span class="st">"Topolska"</span>,</span>
<span>  laurionite <span class="op">=</span> <span class="st">"Nasanen"</span>,</span>
<span>  water_prefix <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Code is from EPA's TELSS lead solubility dashboard <a href="https://github.com/USEPA/TELSS" class="external-link">https://github.com/USEPA/TELSS</a>
which is licensed under MIT License:
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
associated documentation files (the "Software"), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the
following conditions: The above copyright notice and this permission notice shall be included in all copies or
substantial portions of the Software.</p>
<p>Wahman et al. (2021)</p>
<p>See references list at: <a href="https://github.com/BrownandCaldwell-Public/tidywater/wiki/References" class="external-link">https://github.com/BrownandCaldwell-Public/tidywater/wiki/References</a></p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-water">water<a class="anchor" aria-label="anchor" href="#arg-water"></a></dt>
<dd><p>Source water object of class "water" created by <a href="define_water.html">define_water</a>. Water must include alk and is.
If po4, cl, and so4 are known, those should also be included.</p></dd>


<dt id="arg-hydroxypyromorphite">hydroxypyromorphite<a class="anchor" aria-label="anchor" href="#arg-hydroxypyromorphite"></a></dt>
<dd><p>defaults to "Schock", the constant, K, developed by Schock et al (1996). Can also use "Zhu".</p></dd>


<dt id="arg-pyromorphite">pyromorphite<a class="anchor" aria-label="anchor" href="#arg-pyromorphite"></a></dt>
<dd><p>defaults to "Topolska", the constant, K, developed by Topolska et al (2016). Can also use "Xie".</p></dd>


<dt id="arg-laurionite">laurionite<a class="anchor" aria-label="anchor" href="#arg-laurionite"></a></dt>
<dd><p>defaults to "Nasanen", the constant, K, developed by Nasanen &amp; Lindell (1976). Can also use "Lothenbach".</p></dd>


<dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>a data frame containing a water class column, which has already been computed using
<a href="define_water_df.html">define_water_df</a></p></dd>


<dt id="arg-input-water">input_water<a class="anchor" aria-label="anchor" href="#arg-input-water"></a></dt>
<dd><p>name of the column of water class data to be used as the input. Default is "defined_water".</p></dd>


<dt id="arg-output-col-solid">output_col_solid<a class="anchor" aria-label="anchor" href="#arg-output-col-solid"></a></dt>
<dd><p>name of the output column storing the controlling lead solid. Default is "controlling_solid".</p></dd>


<dt id="arg-output-col-result">output_col_result<a class="anchor" aria-label="anchor" href="#arg-output-col-result"></a></dt>
<dd><p>name of the output column storing dissolved lead in M. Default is "pb".</p></dd>


<dt id="arg-water-prefix">water_prefix<a class="anchor" aria-label="anchor" href="#arg-water-prefix"></a></dt>
<dd><p>name of the input water used for the calculation, appended to the start of output columns. Default is TRUE.
Change to FALSE to remove the water prefix from output column names.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>dissolve_pb</code> returns a one row data frame containing only the controlling lead solid and modeled dissolved lead concentration.</p>
<p><code>dissolve_pb_df</code> returns a data frame containing the controlling lead solid and modeled dissolved lead concentration as new columns.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The solid with lowest solubility will form the lead scale (controlling lead solid).
Some lead solids have two k-constant options. The function will default to the EPA's default constants.
The user may change the constants to hydroxypyromorphite = "Zhu" or pyromorphite = "Xie" or laurionite = "Lothenbach"</p>
<p>Make sure that total dissolved solids, conductivity, or
ca, na, cl, so4 are used in <code>define_water</code> so that an ionic strength is calculated.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">example_pb</span> <span class="op">&lt;-</span> <span class="fu"><a href="define_water.html">define_water</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  ph <span class="op">=</span> <span class="fl">7.5</span>, temp <span class="op">=</span> <span class="fl">25</span>, alk <span class="op">=</span> <span class="fl">93</span>, cl <span class="op">=</span> <span class="fl">240</span>,</span></span>
<span class="r-in"><span>  tot_po4 <span class="op">=</span> <span class="fl">0</span>, so4 <span class="op">=</span> <span class="fl">150</span>, tds <span class="op">=</span> <span class="fl">200</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dissolve_pb</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">example_pb</span> <span class="op">&lt;-</span> <span class="fu"><a href="define_water.html">define_water</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  ph <span class="op">=</span> <span class="fl">7.5</span>, temp <span class="op">=</span> <span class="fl">25</span>, alk <span class="op">=</span> <span class="fl">93</span>, cl <span class="op">=</span> <span class="fl">240</span>,</span></span>
<span class="r-in"><span>  tot_po4 <span class="op">=</span> <span class="fl">0</span>, so4 <span class="op">=</span> <span class="fl">150</span>, tds <span class="op">=</span> <span class="fl">200</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dissolve_pb</span><span class="op">(</span>pyromorphite <span class="op">=</span> <span class="st">"Xie"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">example_df</span> <span class="op">&lt;-</span> <span class="va">water_df</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="define_water_df.html">define_water_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dissolve_pb_df</span><span class="op">(</span>output_col_result <span class="op">=</span> <span class="st">"dissolved_lead"</span>, pyromorphite <span class="op">=</span> <span class="st">"Xie"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sierra Johnson, Libby McKenna, Riley Mulhern, Chris Corwin, Brown and Caldwell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

