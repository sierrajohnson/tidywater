<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate new pH and ion balance after chemical addition — chemdose_ph • tidywater</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate new pH and ion balance after chemical addition — chemdose_ph"><meta name="description" content='Calculates the new pH, alkalinity, and ion balance of a water based on different chemical
additions.
For a single water use chemdose_ph; for a dataframe use chemdose_ph_df.
Use pluck_cols = TRUE to get values from the output water as new dataframe columns.
For most arguments in the _df helper
"use_col" default looks for a column of the same name in the dataframe. The argument can be specified directly in the
function instead or an unquoted column name can be provided.'><meta property="og:description" content='Calculates the new pH, alkalinity, and ion balance of a water based on different chemical
additions.
For a single water use chemdose_ph; for a dataframe use chemdose_ph_df.
Use pluck_cols = TRUE to get values from the output water as new dataframe columns.
For most arguments in the _df helper
"use_col" default looks for a column of the same name in the dataframe. The argument can be specified directly in the
function instead or an unquoted column name can be provided.'><meta property="og:image" content="https://BrownandCaldwell-Public.github.io/tidywater/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidywater</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/tidywater.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/coeff_fitting_chemdose_dbp.html">Fitting and using custom coefficients in chemdose_dbp</a></li>
    <li><a class="dropdown-item" href="../articles/help_functions_blend_waters.html">Blending Multiple Waters</a></li>
    <li><a class="dropdown-item" href="../articles/help_functions_chemdose_ph.html">Helper Functions &amp; Dose Chemicals</a></li>
    <li><a class="dropdown-item" href="../articles/intro.html">Introduction to tidywater: Basic functions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BrownandCaldwell-Public/tidywater/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate new pH and ion balance after chemical addition</h1>
      <small class="dont-index">Source: <a href="https://github.com/BrownandCaldwell-Public/tidywater/blob/main/R/chemdose_ph.R" class="external-link"><code>R/chemdose_ph.R</code></a></small>
      <div class="d-none name"><code>chemdose_ph.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates the new pH, alkalinity, and ion balance of a water based on different chemical
additions.
For a single water use <code>chemdose_ph</code>; for a dataframe use <code>chemdose_ph_df</code>.
Use <code>pluck_cols = TRUE</code> to get values from the output water as new dataframe columns.
For most arguments in the <code>_df</code> helper
"use_col" default looks for a column of the same name in the dataframe. The argument can be specified directly in the
function instead or an unquoted column name can be provided.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">chemdose_ph</span><span class="op">(</span></span>
<span>  <span class="va">water</span>,</span>
<span>  hcl <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  h2so4 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  h3po4 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  hno3 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ch3cooh <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  co2 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  naoh <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  caoh2 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  mgoh2 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  na2co3 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  nahco3 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  caco3 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  caso4 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  caocl2 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  cacl2 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  cl2 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  naocl <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  nh4oh <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  nh42so4 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alum <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ferricchloride <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ferricsulfate <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ach <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  kmno4 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  naf <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  na3po4 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  softening_correction <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">chemdose_ph_df</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  input_water <span class="op">=</span> <span class="st">"defined"</span>,</span>
<span>  output_water <span class="op">=</span> <span class="st">"dosed_chem"</span>,</span>
<span>  na_to_zero <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  pluck_cols <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  water_prefix <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  hcl <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  h2so4 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  h3po4 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  hno3 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  ch3cooh <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  co2 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  naoh <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  na2co3 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  nahco3 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  caoh2 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  mgoh2 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  caocl2 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  cacl2 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  cl2 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  naocl <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  nh4oh <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  nh42so4 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  caco3 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  caso4 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  alum <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  ferricchloride <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  ferricsulfate <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  ach <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  kmno4 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  naf <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  na3po4 <span class="op">=</span> <span class="st">"use_col"</span>,</span>
<span>  softening_correction <span class="op">=</span> <span class="st">"use_col"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-water">water<a class="anchor" aria-label="anchor" href="#arg-water"></a></dt>
<dd><p>Source water object of class "water" created by <a href="define_water.html">define_water</a></p></dd>


<dt id="arg-hcl">hcl<a class="anchor" aria-label="anchor" href="#arg-hcl"></a></dt>
<dd><p>Amount of hydrochloric acid added in mg/L: HCl -&gt; H + Cl</p></dd>


<dt id="arg-h-so-">h2so4<a class="anchor" aria-label="anchor" href="#arg-h-so-"></a></dt>
<dd><p>Amount of sulfuric acid added in mg/L: H2SO4 -&gt; 2H + SO4</p></dd>


<dt id="arg-h-po-">h3po4<a class="anchor" aria-label="anchor" href="#arg-h-po-"></a></dt>
<dd><p>Amount of phosphoric acid added in mg/L: H3PO4 -&gt; 3H + PO4</p></dd>


<dt id="arg-hno-">hno3<a class="anchor" aria-label="anchor" href="#arg-hno-"></a></dt>
<dd><p>Amount of nitric acid added in mg/L: HNO3 -&gt; H + NO3</p></dd>


<dt id="arg-ch-cooh">ch3cooh<a class="anchor" aria-label="anchor" href="#arg-ch-cooh"></a></dt>
<dd><p>Amount of acetic acid added in mg/L: CH3COOH -&gt; H + CH3COO-</p></dd>


<dt id="arg-co-">co2<a class="anchor" aria-label="anchor" href="#arg-co-"></a></dt>
<dd><p>Amount of carbon dioxide added in mg/L: CO2 (gas) + H2O -&gt; H2CO3*</p></dd>


<dt id="arg-naoh">naoh<a class="anchor" aria-label="anchor" href="#arg-naoh"></a></dt>
<dd><p>Amount of caustic added in mg/L: NaOH -&gt; Na + OH</p></dd>


<dt id="arg-caoh-">caoh2<a class="anchor" aria-label="anchor" href="#arg-caoh-"></a></dt>
<dd><p>Amount of lime added in mg/L: Ca(OH)2 -&gt; Ca + 2OH</p></dd>


<dt id="arg-mgoh-">mgoh2<a class="anchor" aria-label="anchor" href="#arg-mgoh-"></a></dt>
<dd><p>Amount of magnesium hydroxide added in mg/L: Mg(OH)2 -&gt; Mg + 2OH</p></dd>


<dt id="arg-na-co-">na2co3<a class="anchor" aria-label="anchor" href="#arg-na-co-"></a></dt>
<dd><p>Amount of soda ash added in mg/L: Na2CO3 -&gt; 2Na + CO3</p></dd>


<dt id="arg-nahco-">nahco3<a class="anchor" aria-label="anchor" href="#arg-nahco-"></a></dt>
<dd><p>Amount of sodium bicarbonate added in mg/L: NaHCO3 -&gt; Na + H + CO3</p></dd>


<dt id="arg-caco-">caco3<a class="anchor" aria-label="anchor" href="#arg-caco-"></a></dt>
<dd><p>Amount of calcium carbonate added (or removed) in mg/L: CaCO3 -&gt; Ca + CO3</p></dd>


<dt id="arg-caso-">caso4<a class="anchor" aria-label="anchor" href="#arg-caso-"></a></dt>
<dd><p>Amount of calcium sulfate added (for post-RO condition) in mg/L: CaSO4 -&gt; Ca + SO4</p></dd>


<dt id="arg-caocl-">caocl2<a class="anchor" aria-label="anchor" href="#arg-caocl-"></a></dt>
<dd><p>Amount of Calcium hypochlorite added in mg/L as Cl2: CaOCl2 -&gt; Ca + 2OCl</p></dd>


<dt id="arg-cacl-">cacl2<a class="anchor" aria-label="anchor" href="#arg-cacl-"></a></dt>
<dd><p>Amount of calcium chloride added in mg/L: CaCl2 -&gt; Ca2+ + 2Cl-</p></dd>


<dt id="arg-cl-">cl2<a class="anchor" aria-label="anchor" href="#arg-cl-"></a></dt>
<dd><p>Amount of chlorine gas added in mg/L as Cl2: Cl2(g) + H2O -&gt; HOCl + H + Cl</p></dd>


<dt id="arg-naocl">naocl<a class="anchor" aria-label="anchor" href="#arg-naocl"></a></dt>
<dd><p>Amount of sodium hypochlorite added in mg/L as Cl2: NaOCl -&gt; Na + OCl</p></dd>


<dt id="arg-nh-oh">nh4oh<a class="anchor" aria-label="anchor" href="#arg-nh-oh"></a></dt>
<dd><p>Amount of ammonium hydroxide added in mg/L as N: NH4OH -&gt; NH4 + OH</p></dd>


<dt id="arg-nh-so-">nh42so4<a class="anchor" aria-label="anchor" href="#arg-nh-so-"></a></dt>
<dd><p>Amount of ammonium sulfate added in mg/L as N: (NH4)2SO4 -&gt; 2NH4 + SO4</p></dd>


<dt id="arg-alum">alum<a class="anchor" aria-label="anchor" href="#arg-alum"></a></dt>
<dd><p>Amount of hydrated aluminum sulfate added in mg/L: Al2(SO4)3*14H2O + 6HCO3 -&gt; 2Al(OH)3(am) +3SO4 + 14H2O + 6CO2</p></dd>


<dt id="arg-ferricchloride">ferricchloride<a class="anchor" aria-label="anchor" href="#arg-ferricchloride"></a></dt>
<dd><p>Amount of ferric Chloride added in mg/L: FeCl3 + 3HCO3 -&gt; Fe(OH)3(am) + 3Cl + 3CO2</p></dd>


<dt id="arg-ferricsulfate">ferricsulfate<a class="anchor" aria-label="anchor" href="#arg-ferricsulfate"></a></dt>
<dd><p>Amount of ferric sulfate added in mg/L: Fe2(SO4)3*8.8H2O + 6HCO3 -&gt; 2Fe(OH)3(am) + 3SO4 + 8.8H2O + 6CO2</p></dd>


<dt id="arg-ach">ach<a class="anchor" aria-label="anchor" href="#arg-ach"></a></dt>
<dd><p>Amount of aluminum chlorohydrate added in mg/L: Al2(OH)5Cl*2H2O + HCO3 -&gt; 2Al(OH)3(am) + Cl + 2H2O + CO2</p></dd>


<dt id="arg-kmno-">kmno4<a class="anchor" aria-label="anchor" href="#arg-kmno-"></a></dt>
<dd><p>Amount of potassium permanganate added in mg/L: KMnO4 -&gt; K + MnO4</p></dd>


<dt id="arg-naf">naf<a class="anchor" aria-label="anchor" href="#arg-naf"></a></dt>
<dd><p>Amount of sodium fluoride added in mg/L: NaF -&gt; Na + F</p></dd>


<dt id="arg-na-po-">na3po4<a class="anchor" aria-label="anchor" href="#arg-na-po-"></a></dt>
<dd><p>Amount of trisodium phosphate added in mg/L: Na3PO4 -&gt; 3Na + PO4</p></dd>


<dt id="arg-softening-correction">softening_correction<a class="anchor" aria-label="anchor" href="#arg-softening-correction"></a></dt>
<dd><p>Set to TRUE to correct post-softening pH (caco3 must be &lt; 0). Default is FALSE. Based on WTP model equation 5-62</p></dd>


<dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>a data frame containing a water class column, which has already been computed using
<a href="define_water_df.html">define_water_df</a> The df may include columns named for the chemical(s) being dosed.</p></dd>


<dt id="arg-input-water">input_water<a class="anchor" aria-label="anchor" href="#arg-input-water"></a></dt>
<dd><p>name of the column of water class data to be used as the input for this function. Default is "defined".</p></dd>


<dt id="arg-output-water">output_water<a class="anchor" aria-label="anchor" href="#arg-output-water"></a></dt>
<dd><p>name of the output column storing updated water class object. Default is "dosed".</p></dd>


<dt id="arg-na-to-zero">na_to_zero<a class="anchor" aria-label="anchor" href="#arg-na-to-zero"></a></dt>
<dd><p>option to convert all NA values in the data frame to zeros. Default value is TRUE.</p></dd>


<dt id="arg-pluck-cols">pluck_cols<a class="anchor" aria-label="anchor" href="#arg-pluck-cols"></a></dt>
<dd><p>Extract primary water slots modified by the function (ph, alk) into new numeric columns for easy access. Default to FALSE.</p></dd>


<dt id="arg-water-prefix">water_prefix<a class="anchor" aria-label="anchor" href="#arg-water-prefix"></a></dt>
<dd><p>Append the output_water name to the start of the plucked columns. Default is TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>chemdose_ph</code> returns a water class object with updated pH, alkalinity, and ions post-chemical addition.</p>
<p><code>chemdose_ph_df</code> returns a data frame containing a water class column with updated pH, alkalinity, and ions post-chemical addition.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function takes an object of class "water" created by <a href="define_water.html">define_water</a> and user-specified
chemical additions and returns a new object of class "water" with updated water quality.
Units of all chemical additions are in mg/L as chemical (not as product).</p>
<p><code>chemdose_ph</code> works by evaluating all the user-specified chemical additions and solving for what the new pH
must be using <a href="https://rdrr.io/r/stats/uniroot.html" class="external-link">uniroot</a> to satisfy the principle of electroneutrality in pure water while correcting for the existing alkalinity
of the water that the chemical is added to. Multiple chemicals can be added simultaneously or each addition can be
modeled independently through sequential doses.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="define_water.html">define_water</a>, <a href="convert_units.html">convert_units</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">water</span> <span class="op">&lt;-</span> <span class="fu"><a href="define_water.html">define_water</a></span><span class="op">(</span>ph <span class="op">=</span> <span class="fl">7</span>, temp <span class="op">=</span> <span class="fl">25</span>, alk <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Major ions missing and neither TDS or conductivity entered. Ideal conditions will be assumed. Ionic strength will be set to NA and activity coefficients in future calculations will be set to 1.</span>
<span class="r-in"><span><span class="co"># Dose 1 mg/L of hydrochloric acid</span></span></span>
<span class="r-in"><span><span class="va">dosed_water</span> <span class="op">&lt;-</span> <span class="fu">chemdose_ph</span><span class="op">(</span><span class="va">water</span>, hcl <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chloride-containing chemical dosed, but cl water slot is NA. Slot not updated because background cl unknown.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dose 1 mg/L of hydrochloric acid and 5 mg/L of alum simultaneously</span></span></span>
<span class="r-in"><span><span class="va">dosed_water</span> <span class="op">&lt;-</span> <span class="fu">chemdose_ph</span><span class="op">(</span><span class="va">water</span>, hcl <span class="op">=</span> <span class="fl">1</span>, alum <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chloride-containing chemical dosed, but cl water slot is NA. Slot not updated because background cl unknown.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Sulfate-containing chemical dosed, but so4 water slot is NA. Slot not updated because background so4 unknown.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Softening:</span></span></span>
<span class="r-in"><span><span class="va">water2</span> <span class="op">&lt;-</span> <span class="fu"><a href="define_water.html">define_water</a></span><span class="op">(</span>ph <span class="op">=</span> <span class="fl">7</span>, temp <span class="op">=</span> <span class="fl">25</span>, alk <span class="op">=</span> <span class="fl">100</span>, tot_hard <span class="op">=</span> <span class="fl">350</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Missing values for calcium and magnesium but total hardness supplied. Default ratio of 65% Ca2+ and 35% Mg2+ will be used.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Major ions missing and neither TDS or conductivity entered. Ideal conditions will be assumed. Ionic strength will be set to NA and activity coefficients in future calculations will be set to 1.</span>
<span class="r-in"><span><span class="va">dosed_water2</span> <span class="op">&lt;-</span> <span class="fu">chemdose_ph</span><span class="op">(</span><span class="va">water2</span>, caco3 <span class="op">=</span> <span class="op">-</span><span class="fl">100</span>, softening_correction <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">example_df</span> <span class="op">&lt;-</span> <span class="va">water_df</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="define_water_df.html">define_water_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    hcl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    Caustic <span class="op">=</span> <span class="fl">20</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">chemdose_ph_df</span><span class="op">(</span>input_water <span class="op">=</span> <span class="st">"defined"</span>, mgoh2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">55</span><span class="op">)</span>, co2 <span class="op">=</span> <span class="fl">4</span>, naoh <span class="op">=</span> <span class="va">Caustic</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">example_df</span> <span class="op">&lt;-</span> <span class="va">water_df</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="define_water_df.html">define_water_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">chemdose_ph_df</span><span class="op">(</span>naoh <span class="op">=</span> <span class="fl">5</span>, pluck_cols <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sierra Johnson, Libby McKenna, Riley Mulhern, Chris Corwin, Brown and Caldwell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

